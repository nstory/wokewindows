<% @layout_application_title = @field_contact.fc_num %>
<% @layout_application_description = "Field Interrogation or Observation (FIO) report filed by #{ @field_contact.contact_officer_name.titleize } on #{ format_date(@field_contact.contact_date) }. View more info about Field Contact #{ @field_contact.fc_num } here." %>

<div class="container">
  <div class="row">
    <div class="col">
      <h1>Field Contact <%= @field_contact.fc_num %></h1>
      <p>This is a Field Interrogation and Observation (FIO) report filed by an officer of the Boston Police Department. <%= link_to "Learn\u00a0more", page_path("help", anchor: "field_contacts") %></p>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <dl class="row field-contacts-dl">
        <dt>FC #</dt>
        <dd><%= format_text(@field_contact.fc_num) %></dd>
        <dt>Contact Date</dt>
        <dd><%= format_date_time(@field_contact.contact_date) %></dd>

        <dt>Contact Officer</dt>
        <dd><%= format_contact_officer(@field_contact) %></dd>
        <dt>Supervisor</dt>
        <dd><%= format_supervisor(@field_contact) %></dd>

        <dt>Street</dt>
        <dd><%= format_titleize(@field_contact.street) %></dd>

        <dt>City</dt>
        <dd><%= format_titleize(@field_contact.city) %></dd>

        <dt>State</dt>
        <dd><%= format_upcase(@field_contact.state) %></dd>

        <dt>Zip</dt>
        <dd><%= format_zip(@field_contact.zip) %></dd>

        <dt title="Was any individual frisked or searched?">Frisked / Searched?</dt>
        <dd><%= format_yes_no(@field_contact.frisked_searched) %></dd>

        <dt>Vehicle Search?</dt>
        <dd><%= format_yes_no(@field_contact.search_vehicle) %></dd>

        <dt>Summons Issued?</dt>
        <dd><%= format_yes_no(@field_contact.summons_issued) %></dd>
      </dl>
    </div>
    <div class="col">
      <dl class="row field-contacts-dl">
        <dt>Circumstance</dt>
        <dd><%= format_titleize(@field_contact.circumstance) %></dd>

        <dt>Basis</dt>
        <dd><%= format_titleize(@field_contact.basis) %></dd>

        <dt>Vehicle Year</dt>
        <dd><%= format_text(@field_contact.vehicle_year) %></dd>

        <dt>Vehicle State</dt>
        <dd><%= format_upcase(@field_contact.vehicle_state) %></dd>

        <dt>Vehicle Make</dt>
        <dd><%= format_titleize(@field_contact.vehicle_make) %></dd>

        <dt>Vehicle Model</dt>
        <dd><%= format_titleize(@field_contact.vehicle_model) %></dd>

        <dt>Vehicle Color</dt>
        <dd><%= format_titleize(@field_contact.vehicle_color) %></dd>

        <dt>Vehicle Style</dt>
        <dd><%= format_titleize(@field_contact.vehicle_style) %></dd>

        <dt>Vehicle Type</dt>
        <dd><%= format_titleize(@field_contact.vehicle_type) %></dd>

        <dt>Key Situations</dt>
        <dd><%= format_array(@field_contact.key_situations) %></dd>

        <dt>Weather</dt>
        <dd><%= format_titleize(@field_contact.weather) %></dd>

        <dt>Stop Duration</dt>
        <dd><%= format_field_contact_duration(@field_contact.stop_duration) %></dd>
      </dl>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <h2>Narrative</h2>
      <%= format_narrative(@field_contact) %>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <h2>Individuals</h2>
      <div class="table-responsive">
        <table class="table table-bordered table-striped table-hover table-nowrap">
          <thead>
            <tr>
              <th scope="col">Gender</th>
              <th scope="col">Race</th>
              <th scope="col">Age</th>
              <th scope="col">Build</th>
              <th scope="col">Hair Style</th>
              <th scope="col">Skin Tone</th>
              <th scope="col">Ethnicity</th>
              <th scope="col">Other Clothing</th>
              <th scope="col">License State</th>
              <th scope="col">License Type</th>
              <th scope="col">Searched?</th>
            </tr>
          </thead>
          <tbody>
            <% @field_contact.field_contact_names.each do |fcn| %>
              <tr>
                <td><%= format_titleize(fcn.gender) %></td>
                <td><%= format_titleize(fcn.race) %></td>
                <td><%= format_text(fcn.age) %></td>
                <td><%= format_titleize(fcn.build) %></td>
                <td><%= format_titleize(fcn.hair_style) %></td>
                <td><%= format_titleize(fcn.skin_tone) %></td>
                <td><%= format_text(fcn.ethnicity) %></td>
                <td><%= format_text(fcn.other_clothing) %></td>
                <td><%= format_upcase(fcn.license_state) %></td>
                <td><%= format_titleize(fcn.license_type) %></td>
                <td><%= format_yes_no(fcn.frisked_searched) %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>

      <%= render "shared/source_materials", attributions: @attributions %>
    </div>
  </div>
</div>
